# Regenerative Heat Exchanger (RegenerativeHEX)
# ThermofluidStream Library Extension

## Overview
Model of a **Regenerative Heat Exchanger (Rotary Heat Wheel)** using the ε-NTU method.
Added to the `ThermofluidStream.HeatExchangers` package.

---

## 1. Component: `RegenerativeHEX.mo`

### Location
`ThermofluidStream/HeatExchangers/RegenerativeHEX.mo`

### Description
A rotary regenerator (heat wheel) model where heat is transferred through a rotating 
thermal mass matrix. Extends `PartialNTU` base class.

### Key Parameters
| Parameter | Default | Description |
|-----------|---------|-------------|
| `A` | - | Heat transfer area (m²) |
| `k_NTU` | 50 | Overall heat transfer coefficient (W/m²K) |
| `useFiniteMatrixCapacity` | false | Enable correction for finite matrix capacity |
| `C_r_star` | 5 | Matrix capacity ratio (when correction enabled) |

### Equations
For infinite matrix capacity (default):
```
ε = (1 - exp(-NTU*(1-C_r))) / (1 - C_r*exp(-NTU*(1-C_r)))   when C_r < 1
ε = NTU / (1 + NTU)                                         when C_r ≈ 1
```

---

## 2. Test: `Tests/RegenerativeHEX.mo`

### Location
`ThermofluidStream/HeatExchangers/Tests/RegenerativeHEX.mo`

### Configuration
- **Side A (Exhaust):** Hot indoor air at 35°C, 0.5 kg/s
- **Side B (Supply):** Cold outdoor air at 5°C, 0.5 kg/s
- **Heat Wheel:** A = 20 m², k_NTU = 30 W/m²K

### Expected Results
- Effectiveness: ~75-85%
- Supply air outlet: ~26-28°C

---

## 3. Usage

### In OpenModelica
1. Load the ThermofluidStream library
2. Navigate to `HeatExchangers.Tests.RegenerativeHEX`
3. Click **Simulate** (StopTime = 100s)
4. Plot `regenerativeHEX.effectiveness` and outlet temperatures

### Applications
- HVAC energy recovery wheels
- Gas turbine recuperators  
- Industrial waste heat recovery
- Cryogenic systems

---

## 4. Files Changed

| File | Action |
|------|--------|
| `HeatExchangers/RegenerativeHEX.mo` | Created |
| `HeatExchangers/package.order` | Modified |
| `HeatExchangers/Tests/RegenerativeHEX.mo` | Created |
| `HeatExchangers/Tests/package.order` | Modified |
